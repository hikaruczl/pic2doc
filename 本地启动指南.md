# ğŸš€ æœ¬åœ°å¯åŠ¨æŒ‡å—

## é—®é¢˜è¯´æ˜

**ä»£ç†å†²çª**: httpx ä¸æ”¯æŒ socks ä»£ç†ï¼Œä¼šæŠ¥é”™ï¼š
```
ValueError: Unknown scheme for proxy URL URL('socks://127.0.0.1:7897/')
```

## âœ… è§£å†³æ–¹æ¡ˆ

å·²åˆ›å»ºå¯åŠ¨è„šæœ¬ï¼Œè‡ªåŠ¨æ¸…é™¤ä»£ç†ç¯å¢ƒå˜é‡ã€‚

---

## ğŸ¯ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ•°æ®åº“ + åç«¯ + å‰ç«¯ï¼‰ï¼š

```bash
cd /mnt/vdb/dev/advanceOCR
./start_all.sh
```

**æœåŠ¡è®¿é—®åœ°å€**:
- å‰ç«¯: http://localhost:5173
- åç«¯: http://localhost:8005
- æ•°æ®åº“: localhost:5433

---

## ğŸ”§ åˆ†æ­¥å¯åŠ¨

### 1. å¯åŠ¨æ•°æ®åº“å’Œ Redis
```bash
cd /mnt/vdb/dev/advanceOCR
sudo docker compose -f docker/docker-compose.yml up -d postgres redis
```

### 2. å¯åŠ¨åç«¯
```bash
./start_backend.sh
```

### 3. å¯åŠ¨å‰ç«¯
```bash
./start_frontend.sh
```

---

## ğŸ“ æŸ¥çœ‹æ—¥å¿—

```bash
# åç«¯æ—¥å¿—
tail -f logs/backend.log

# å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log

# æ•°æ®åº“æ—¥å¿—
sudo docker compose -f docker/docker-compose.yml logs -f postgres
```

---

## ğŸ›‘ åœæ­¢æœåŠ¡

```bash
# åœæ­¢åç«¯
pkill -f "python.*web/backend/app.py"

# åœæ­¢å‰ç«¯
pkill -f "vite"

# åœæ­¢æ•°æ®åº“å’Œ Redis
sudo docker compose -f docker/docker-compose.yml stop postgres redis
```

æˆ–è€…ä¸€é”®åœæ­¢æ‰€æœ‰ï¼š
```bash
pkill -f "python.*app.py"
pkill -f "vite"
sudo docker compose -f docker/docker-compose.yml down
```

---

## ğŸ§ª éªŒè¯ä¿®å¤

### 1. åç«¯ API æµ‹è¯•
```bash
curl http://localhost:8005/
```

åº”è¯¥è¿”å› JSON å“åº”ã€‚

### 2. ä¸Šä¼ å›¾ç‰‡æµ‹è¯•

1. æ‰“å¼€æµè§ˆå™¨: http://localhost:5173
2. ä¸Šä¼ ä¹‹å‰å¤±è´¥çš„å›¾ç‰‡
3. æ£€æŸ¥ç”Ÿæˆçš„ Word æ–‡æ¡£ï¼š
   - âœ… `ar{x}1` æ˜¾ç¤ºä¸º xÌ„â‚
   - âœ… `y_02` å’Œ `x_02` æ˜¾ç¤ºä¸º yâ‚€Â² å’Œ xâ‚€Â²
   - âœ… çŸ©é˜µæ‹¬å·æ­£ç¡®ï¼ˆåœ†æ‹¬å·ã€æ–¹æ‹¬å·ã€ç«–çº¿ï¼‰

---

## ğŸ“Š å·²ä¿®å¤çš„é—®é¢˜æ€»ç»“

### âœ… é—®é¢˜1: OCR é”™è¯¯ä¿®å¤
- `ar{x}1` â†’ `\bar{x}_1` âœ…
- `y_02` â†’ `y_0^2` âœ… (æ— ç©ºæ ¼æƒ…å†µ)
- `x_02` â†’ `x_0^2` âœ…
- æ§åˆ¶å­—ç¬¦æ¸…ç† âœ…

**æ–‡ä»¶**: `src/formula_converter.py`

### âœ… é—®é¢˜2: çŸ©é˜µæ‹¬å·
- pmatrix: åœ†æ‹¬å· `()` âœ…
- bmatrix: æ–¹æ‹¬å· `[]` âœ…
- vmatrix: ç«–çº¿ `||` âœ…

**æ–‡ä»¶**: `src/document_generator.py`

### â³ é—®é¢˜3: TikZ 3D å›¾å½¢
- ä»£ç å·²é›†æˆ âœ…
- éœ€è¦å®é™…æµ‹è¯•

**æ–‡ä»¶**: `src/tikz_renderer.py`, `config/config.yaml`

### âœ… Docker æ„å»ºé—®é¢˜
- ä¿®å¤ Alpine/Rollup å…¼å®¹æ€§ âœ…
- ä½¿ç”¨ node:18-slim ä»£æ›¿ alpine âœ…

**æ–‡ä»¶**: `Dockerfile.frontend`, `docker/Dockerfile.frontend`

### âœ… ä»£ç†å†²çªé—®é¢˜
- å¯åŠ¨è„šæœ¬è‡ªåŠ¨æ¸…é™¤ socks ä»£ç† âœ…
- httpx å…¼å®¹æ€§é—®é¢˜å·²è§£å†³ âœ…

---

## ğŸ” æ•…éšœæ’æŸ¥

### åç«¯å¯åŠ¨å¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ—¥å¿—**:
```bash
tail -50 logs/backend.log
```

**å¸¸è§é—®é¢˜**:
1. **ä»£ç†é”™è¯¯**: ç¡®ä¿ä½¿ç”¨ `./start_backend.sh` å¯åŠ¨
2. **æ•°æ®åº“è¿æ¥å¤±è´¥**: ç¡®ä¿ PostgreSQL å®¹å™¨åœ¨è¿è¡Œ
   ```bash
   sudo docker compose -f docker/docker-compose.yml ps
   ```
3. **æƒé™é”™è¯¯**: ç¡®ä¿æ—¥å¿—ç›®å½•æƒé™æ­£ç¡®
   ```bash
   sudo chown -R ctyun:ctyun logs/
   ```

### å‰ç«¯å¯åŠ¨å¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ—¥å¿—**:
```bash
tail -50 logs/frontend.log
```

**å¸¸è§é—®é¢˜**:
1. **ç«¯å£å ç”¨**: 5173 ç«¯å£è¢«å ç”¨
   ```bash
   lsof -i :5173
   ```
2. **ä¾èµ–ç¼ºå¤±**: é‡æ–°å®‰è£…
   ```bash
   cd web/frontend && npm install
   ```

---

## ğŸ“¦ å®Œæ•´ Docker éƒ¨ç½²

å¦‚æœè¦ä½¿ç”¨ Docker éƒ¨ç½²ï¼ˆè€Œä¸æ˜¯æœ¬åœ°å¼€å‘ï¼‰:

```bash
./start_docker.sh
```

è¿™ä¼šæ„å»ºå¹¶å¯åŠ¨å®Œæ•´çš„ Docker å®¹å™¨ï¼ˆåŒ…æ‹¬å‰ç«¯å’Œåç«¯ï¼‰ã€‚

---

**æœ€åæ›´æ–°**: 2025-10-12 22:50
**çŠ¶æ€**: âœ… æ‰€æœ‰å·²çŸ¥é—®é¢˜å·²ä¿®å¤
